import{d as h,r as f,N as b,i as v,ak as y,Q as k,V as p,av as s,_ as C,k as _,l as r,I as w,m as S,P as N,p as O,n as V}from"./index.40c6202a.js";import{D as $}from"./Dropdown1.fad167fe.js";const B=h({name:"widget-1",props:{widgetClasses:String,height:Number,data:{}},components:{Dropdown1:$},setup(e){const t=f(null);let a={};const o=b(),n=JSON.parse(JSON.stringify(e.data.datasets[0].data)).map(i=>parseInt(i,10)),d=v(()=>o.mode);y(()=>{Object.assign(a,c(e.data))});const g=()=>{!t.value||(Object.assign(a,c(e.data)),t.value.refresh())};return k(d,()=>{g()}),{chart:a,series:n,chartRef:t,gotopage:(i,l)=>{l?p.push({name:"unitsstatusreport",params:{text:"company",t_id:l}}):p.push({name:"unitsstatusreport",params:{text:"template",t_id:i}})}}}}),c=e=>(s("--kt-gray-500"),s("--kt-gray-200"),s("--kt-primary"),s("--kt-gray-300"),{chart:{width:380,type:"donut",events:{click(t,a,o){}}},plotOptions:{pie:{startAngle:-90,endAngle:270}},labels:e.labels,colors:["rgb(0, 227, 150)","rgb(255, 69, 96)"],dataLabels:{enabled:!0},fill:{type:"solid",colors:["rgb(0, 227, 150)","rgb(255, 69, 96)"]},legend:{formatter:function(t,a){return e.labels[a.seriesIndex]}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}),D={class:"card-header border-0 pt-5"},I={class:"card-label fw-bold fs-3 mb-1"},j={class:"card-body"};function A(e,t,a,o,m,u){const n=O("apexchart");return V(),_("div",{class:N(["card",e.widgetClasses])},[r("div",D,[r("h3",{class:"card-title align-items-start flex-column text-center",onClick:t[0]||(t[0]=d=>e.data.datasets[0].template_id||e.data.datasets[0].company_id?e.gotopage(e.data.datasets[0].template_id,e.data.datasets[0].company_id):"")},[r("span",I,w(e.data.datasets[0].name),1)])]),r("div",j,[S(n,{ref:"chartRef",type:"donut",options:e.chart,series:e.series,height:e.height},null,8,["options","series","height"])])],2)}const R=C(B,[["render",A]]);export{R as K};
