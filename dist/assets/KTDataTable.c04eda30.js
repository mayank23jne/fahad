import{d as y,u as D,r as p,Q as v,i as m,_ as k,k as g,l,z as E,aw as A,B as S,F as L,J as I,n as c,P as f,au as C,H as O,I as q,w as B,o as N,m as h,x as _,ax as V,p as P,y as F,af as M}from"./index.40c6202a.js";const H=y({name:"table-head-row",props:{checkboxEnabledValue:{type:Boolean,required:!1,default:!1},checkboxEnabled:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},header:{type:Array,required:!0}},emits:["on-select","on-sort"],components:{},setup(e,{emit:t}){const{t:a,te:r}=D(),d=p(!1),i=p({label:e.sortLabel,order:e.sortOrder});v(()=>e.checkboxEnabledValue,b=>{d.value=b});const n=()=>{t("on-select",d.value)},o=(b,T)=>{T&&(i.value.label===b?i.value.order==="asc"?i.value.order="desc":i.value.order==="desc"&&(i.value.order="asc"):(i.value.order="asc",i.value.label=b),t("on-sort",i.value))},s=m(()=>i.value.order==="asc"?"&#x2191;":"&#x2193;");return{onSort:o,selectAll:n,checked:d,sortArrow:s,columnLabelAndOrder:i,translate:b=>r(b)?a(b):b}}}),R={class:"text-start text-gray-400 fw-bold fs-7 text-uppercase gs-0"},U={key:0,style:{width:"30px"}},j={class:"form-check form-check-sm form-check-custom form-check-solid me-3"},z=["onClick"],W=["innerHTML"];function J(e,t,a,r,d,i){return c(),g("thead",null,[l("tr",R,[e.checkboxEnabled?(c(),g("th",U,[l("div",j,[E(l("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=n=>e.checked=n),onChange:t[1]||(t[1]=n=>e.selectAll())},null,544),[[A,e.checked]])])])):S("",!0),(c(!0),g(L,null,I(e.header,(n,o)=>(c(),g("th",{key:o,class:f({"text-end":o===e.header.length-1}),onClick:s=>e.onSort(n.columnLabel,n.sortEnabled),style:C({minWidth:n.columnWidth?`${n.columnWidth}px`:"0",width:"auto",cursor:n.sortEnabled?"pointer":"auto"})},[O(q(e.translate(n.columnName))+" ",1),e.columnLabelAndOrder.label===n.columnLabel&&n.sortEnabled?(c(),g("span",{key:0,innerHTML:e.sortArrow},null,8,W)):S("",!0)],14,z))),128))])])}const Q=k(H,[["render",J]]),G=y({name:"table-body-row",components:{},props:{header:{type:Array,required:!0},data:{type:Array,required:!0},currentlySelectedItems:{type:Array,required:!1,default:()=>[]},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"}},emits:["on-select"],setup(e,{emit:t}){const a=p([]);return v(()=>[...e.currentlySelectedItems],d=>{e.currentlySelectedItems.length!==0?a.value=[...new Set([...a.value,...d])]:a.value=[]}),{selectedItems:a,onChange:()=>{t("on-select",a.value)}}}}),K={class:"fw-semibold text-gray-600"},X={key:0},Y={class:"form-check form-check-sm form-check-custom form-check-solid"},Z=["value"];function x(e,t,a,r,d,i){return c(),g("tbody",K,[(c(!0),g(L,null,I(e.data,(n,o)=>(c(),g("tr",{key:o},[e.checkboxEnabled?(c(),g("td",X,[l("div",Y,[E(l("input",{class:"form-check-input",type:"checkbox",value:n[e.checkboxLabel],"onUpdate:modelValue":t[0]||(t[0]=s=>e.selectedItems=s),onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))},null,40,Z),[[A,e.selectedItems]])])])):S("",!0),(c(!0),g(L,null,I(e.header,(s,u)=>(c(),g("td",{key:u,class:f({"text-end":u===e.header.length-1})},[B(e.$slots,`${s.columnLabel}`,{row:n},()=>[O(q(n),1)])],2))),128))]))),128))])}const ee=k(G,[["render",x]]),te=y({name:"kt-loading",components:{}}),ae={class:"overlay-layer card-rounded bg-dark bg-opacity-5"},ne=l("div",{class:"spinner-border text-primary",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),se=[ne];function oe(e,t,a,r,d,i){return c(),g("div",ae,se)}const re=k(te,[["render",oe]]),le=y({name:"table-body",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},emptyTableText:{type:String,default:"No data found"},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},loading:{type:Boolean,required:!1,default:!1}},emits:["on-sort","on-items-select"],components:{TableHeadRow:Q,TableBodyRow:ee,Loading:re},setup(e,{emit:t}){const a=p([]),r=p([]),d=p(!1);v(()=>e.data,()=>{a.value=[],r.value=[],d.value=!1,e.data.forEach(s=>{s[e.checkboxLabel]&&r.value.push(s[e.checkboxLabel])})});const i=s=>{d.value=s,s?a.value=[...new Set([...a.value,...r.value])]:a.value=[]},n=s=>{a.value=[],s.forEach(u=>{a.value.includes(u)||a.value.push(u)})},o=s=>{t("on-sort",s)};return v(()=>[...a.value],s=>{s&&t("on-items-select",s)}),N(()=>{a.value=[],r.value=[],d.value=!1,e.data.forEach(s=>{s[e.checkboxLabel]&&r.value.push(s[e.checkboxLabel])})}),{onSort:o,selectedItems:a,selectAll:i,itemsSelect:n,check:d}}}),ie={class:"table-responsive"},de={key:1,class:"odd"},ue={colspan:"7",class:"dataTables_empty"};function ce(e,t,a,r,d,i){const n=P("TableHeadRow"),o=P("TableBodyRow"),s=P("Loading");return c(),g("div",ie,[l("table",{class:f([[e.loading&&"overlay overlay-block"],"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"])},[h(n,{onOnSort:e.onSort,onOnSelect:e.selectAll,checkboxEnabledValue:e.check,checkboxEnabled:e.checkboxEnabled,"sort-label":e.sortLabel,"sort-order":e.sortOrder,header:e.header},null,8,["onOnSort","onOnSelect","checkboxEnabledValue","checkboxEnabled","sort-label","sort-order","header"]),e.data.length!==0?(c(),_(o,{key:0,onOnSelect:e.itemsSelect,currentlySelectedItems:e.selectedItems,data:e.data,header:e.header,"checkbox-enabled":e.checkboxEnabled,"checkbox-label":e.checkboxLabel},V({_:2},[I(e.$slots,(u,b)=>({name:b,fn:F(({row:T})=>[B(e.$slots,b,{row:T})])}))]),1032,["onOnSelect","currentlySelectedItems","data","header","checkbox-enabled","checkbox-label"])):(c(),g("tr",de,[l("td",ue,q(e.emptyTableText),1)])),e.loading?(c(),_(s,{key:2})):S("",!0)],2)])}const ge=k(le,[["render",ce]]),be=y({name:"table-items-per-page-select",components:{},props:{itemsPerPage:{type:Number,default:10},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0}},emits:["update:itemsPerPage"],setup(e,{emit:t}){const a=p(10);return N(()=>{a.value=e.itemsPerPage}),{itemsCountInTable:m({get(){return e.itemsPerPage},set(d){t("update:itemsPerPage",d)}})}}}),me={class:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"},pe={for:"items-per-page"},fe=l("option",{value:10},"10",-1),he=l("option",{value:25},"25",-1),Pe=l("option",{value:50},"50",-1),ye=[fe,he,Pe];function ke(e,t,a,r,d,i){return c(),g("div",me,[l("label",pe,[e.itemsPerPageDropdownEnabled?E((c(),g("select",{key:0,class:"form-select form-select-sm form-select-solid","onUpdate:modelValue":t[0]||(t[0]=n=>e.itemsCountInTable=n),name:"items-per-page",id:"items-per-page"},ye,512)),[[M,e.itemsCountInTable]]):S("",!0)])])}const ve=k(be,[["render",ke]]),$e=y({name:"table-pagination",props:{maxVisibleButtons:{type:Number,required:!1,default:5},totalPages:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},emits:["page-change"],setup(e,{emit:t}){const a=m(()=>e.totalPages<e.maxVisibleButtons||e.currentPage===1||e.currentPage<=Math.floor(e.maxVisibleButtons/2)||e.currentPage+2>e.totalPages&&e.totalPages===e.maxVisibleButtons?1:e.currentPage+2>e.totalPages?e.totalPages-e.maxVisibleButtons+1:e.currentPage-2),r=m(()=>Math.min(a.value+e.maxVisibleButtons-1,e.totalPages)),d=m(()=>{const $=[];for(let w=a.value;w<=r.value;w+=1)$.push({name:w,isDisabled:w===e.currentPage});return $}),i=m(()=>e.currentPage===1),n=m(()=>e.currentPage===e.totalPages);return{startPage:a,endPage:r,pages:d,isInFirstPage:i,isInLastPage:n,onClickFirstPage:()=>{t("page-change",1)},onClickPreviousPage:()=>{t("page-change",e.currentPage-1)},onClickPage:$=>{t("page-change",$)},onClickNextPage:()=>{t("page-change",e.currentPage+1)},onClickLastPage:()=>{t("page-change",e.totalPages)},isPageActive:$=>e.currentPage===$}}}),Ce={class:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end"},Se={class:"dataTables_paginate paging_simple_numbers"},Ie={class:"pagination"},Te={class:"svg-icon"},we={class:"svg-icon"},Le=["onClick"],qe={class:"svg-icon"},_e={class:"svg-icon"};function Ee(e,t,a,r,d,i){const n=P("inline-svg");return c(),g("div",Ce,[l("div",Se,[l("ul",Ie,[l("li",{class:f(["paginate_button page-item",{disabled:e.isInFirstPage}]),style:C({cursor:e.isInFirstPage?"auto":"pointer"})},[l("a",{class:"page-link",onClick:t[0]||(t[0]=(...o)=>e.onClickFirstPage&&e.onClickFirstPage(...o))},[l("span",Te,[h(n,{src:"/media/icons/duotune/arrows/arr079.svg"})])])],6),l("li",{class:f(["paginate_button page-item",{disabled:e.isInFirstPage}]),style:C({cursor:e.isInFirstPage?"auto":"pointer"})},[l("a",{class:"page-link",onClick:t[1]||(t[1]=(...o)=>e.onClickPreviousPage&&e.onClickPreviousPage(...o))},[l("span",we,[h(n,{src:"/media/icons/duotune/arrows/arr074.svg"})])])],6),(c(!0),g(L,null,I(e.pages,(o,s)=>(c(),g("li",{class:f(["paginate_button page-item",{active:e.isPageActive(o.name)}]),style:C({cursor:o.isDisabled?"auto":"pointer"}),key:s},[l("a",{class:"page-link",onClick:u=>e.onClickPage(o.name)},q(o.name),9,Le)],6))),128)),l("li",{class:f(["paginate_button page-item",{disabled:e.isInLastPage}]),style:C({cursor:e.isInLastPage?"auto":"pointer"})},[l("a",{class:"paginate_button page-link",onClick:t[2]||(t[2]=(...o)=>e.onClickNextPage&&e.onClickNextPage(...o))},[l("span",qe,[h(n,{src:"/media/icons/duotune/arrows/arr071.svg"})])])],6),l("li",{class:f(["paginate_button page-item",{disabled:e.isInLastPage}]),style:C({cursor:e.isInLastPage?"auto":"pointer"})},[l("a",{class:"paginate_button page-link",onClick:t[3]||(t[3]=(...o)=>e.onClickLastPage&&e.onClickLastPage(...o))},[l("span",_e,[h(n,{src:"/media/icons/duotune/arrows/arr080.svg"})])])],6)])])])}const Be=k($e,[["render",Ee]]),Ne=y({name:"table-footer",components:{TableItemsPerPageSelect:ve,TablePagination:Be},props:{count:{type:Number,required:!1,default:5},itemsPerPage:{type:Number,default:5},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0},currentPage:{type:Number,required:!1,default:1}},emits:["update:itemsPerPage","page-change"],setup(e,{emit:t}){const a=p(e.currentPage),r=p(e.itemsPerPage);v(()=>e.count,()=>{a.value=1}),v(()=>r.value,()=>{a.value=1}),N(()=>{r.value=e.itemsPerPage});const d=o=>{a.value=o,t("page-change",a.value)},i=m({get(){return e.itemsPerPage},set(o){r.value=o,t("update:itemsPerPage",o)}}),n=m(()=>Math.ceil(e.count/i.value));return{pageChange:d,pageCount:n,page:a,itemsCountInTable:i,inputItemsPerPage:r}}}),Ae={class:"row"};function Oe(e,t,a,r,d,i){const n=P("TableItemsPerPageSelect"),o=P("TablePagination");return c(),g("div",Ae,[h(n,{itemsPerPage:e.itemsCountInTable,"onUpdate:itemsPerPage":t[0]||(t[0]=s=>e.itemsCountInTable=s),"items-per-page-dropdown-enabled":e.itemsPerPageDropdownEnabled},null,8,["itemsPerPage","items-per-page-dropdown-enabled"]),e.pageCount>1?(c(),_(o,{key:0,"total-pages":e.pageCount,total:e.count,"per-page":e.itemsPerPage,"current-page":e.page,onPageChange:e.pageChange},null,8,["total-pages","total","per-page","current-page","onPageChange"])):S("",!0)])}const Ve=k(Ne,[["render",Oe]]),Fe=y({name:"kt-datatable",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},itemsPerPage:{type:Number,default:10},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},total:{type:Number,required:!1},loading:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},emptyTableText:{type:String,required:!1,default:"No data found"},currentPage:{type:Number,required:!1,default:1}},emits:["page-change","on-sort","on-items-select","on-items-per-page-change"],components:{TableContent:ge,TableFooter:Ve},setup(e,{emit:t}){const a=p(e.currentPage),r=p(e.itemsPerPage);v(()=>r.value,u=>{a.value=1,t("on-items-per-page-change",u)});const d=u=>{a.value=u,t("page-change",u)},i=m(()=>{if(e.data){if(e.data.length<=r.value)return e.data;{let u=(a.value-1)*r.value;return e.data.slice(u,u+r.value)}}return[]}),n=m(()=>e.data?e.data.length<=r.value?e.total:e.data.length:0);return{pageChange:d,dataToDisplay:i,onSort:u=>{t("on-sort",u)},onItemSelect:u=>{t("on-items-select",u)},itemsInTable:r,totalItems:n}}}),De={class:"dataTables_wrapper dt-bootstrap4 no-footer"};function Me(e,t,a,r,d,i){const n=P("TableContent"),o=P("TableFooter");return c(),g("div",De,[h(n,{onOnItemsSelect:e.onItemSelect,onOnSort:e.onSort,header:e.header,data:e.dataToDisplay,checkboxEnabled:e.checkboxEnabled,checkboxLabel:e.checkboxLabel,"empty-table-text":e.emptyTableText,"sort-label":e.sortLabel,"sort-order":e.sortOrder,loading:e.loading},V({_:2},[I(e.$slots,(s,u)=>({name:u,fn:F(({row:b})=>[B(e.$slots,u,{row:b})])}))]),1032,["onOnItemsSelect","onOnSort","header","data","checkboxEnabled","checkboxLabel","empty-table-text","sort-label","sort-order","loading"]),h(o,{onPageChange:e.pageChange,"current-page":e.currentPage,itemsPerPage:e.itemsInTable,"onUpdate:itemsPerPage":t[0]||(t[0]=s=>e.itemsInTable=s),count:e.totalItems,"items-per-page-dropdown-enabled":e.itemsPerPageDropdownEnabled},null,8,["onPageChange","current-page","itemsPerPage","count","items-per-page-dropdown-enabled"])])}const Ue=k(Fe,[["render",Me]]);export{Ue as D};
