import{d as F,ac as S,ab as q,aA as A,u as B,r as _,o as T,G as b,V as $,_ as C,k as p,l as t,m as i,y as g,p as y,n as u,I as n,F as w,J as D,H as E}from"./index.40c6202a.js";import{S as M}from"./sweetalert2.all.fbc178e9.js";import{c as U,a as V}from"./object.fb242430.js";const N=F({name:"editinspectionproperty",props:["id"],components:{ErrorMessage:S,Field:q,VForm:A},setup(e){const{t:a,te:h}=B(),r=_(null),f=_(),l=_({name_en:"",name_ar:"",owner:"",industrytype:""}),c=localStorage.getItem("lang"),d=localStorage.getItem("logged_user_id"),m=o=>h(o)?a(o):o,s=U().shape({name_ar:V().required(m("name_ar_req")),owner:V().required(m("ownerreq"))});T(()=>{b.post("showInspectionPropertyId",{id:e.id,user_id:d}).then(({data:o})=>{l.value.name_ar=o[0].propertyname_ar,l.value.name_en=o[0].propertyname_en,l.value.owner=o[0].owner,l.value.industrytype=o[0].industry_type}).catch(({response:o})=>{}),b.post("showIndustryType",{user_id:d}).then(({data:o})=>{f.value=o}).catch(({response:o})=>{})});const I=()=>{r.value&&(r.value.setAttribute("data-kt-indicator","on"),setTimeout(()=>{var o;(o=r.value)==null||o.removeAttribute("data-kt-indicator")},2e3))},k=()=>{if(r.value){r.value.setAttribute("data-kt-indicator","on");const o=new FormData;o.append("name_en",l.value.name_en),o.append("name_ar",l.value.name_ar),o.append("owner",l.value.owner),o.append("industry_type",l.value.industrytype),o.append("user_id",d),o.append("id",e.id),b.post("updateInspectionProperty",o).then(({data:v})=>{setTimeout(()=>{M.fire({text:m("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:m("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{$.push({name:"inspectionpropertytype"})})},2e3)}),setTimeout(()=>{var v;(v=r.value)==null||v.removeAttribute("data-kt-indicator")},2e3)}};return _(""),{submitButton1:r,saveChanges1:I,newItem:l,formSubmit:k,profileDetailsValidator:s,translate:m,industry_type:f,lang:c}}});const P={class:"card mb-5 mb-xl-10"},j={id:"kt_account_profile_details",class:"collapse show"},G={class:"card-body border-top p-9"},H={class:"row mb-6"},J={class:"col-lg-4 col-form-label required fw-semobold fs-6"},L={class:"col-lg-8"},z={class:"fv-plugins-message-container"},K={class:"fv-help-block"},O={class:"row mb-6"},Q={class:"col-lg-4 col-form-label fw-semobold fs-6"},R={class:"col-lg-8 fv-row"},W={class:"row mb-6"},X={class:"col-lg-4 col-form-label required fw-semobold fs-6"},Y={class:"col-lg-8 fv-row"},Z={class:"fv-plugins-message-container"},x={class:"fv-help-block"},ee={class:"row mb-6"},te={class:"col-lg-4 col-form-label required fw-semobold fs-6"},oe={class:"col-lg-8 fv-row"},se=["value"],ae=["value"],ne={class:"fv-plugins-message-container"},le={class:"fv-help-block"},re={class:"card-footer d-flex justify-content-end py-6 px-9"},ie={type:"reset",class:"btn btn-light btn-active-light-primary me-2"},de={type:"submit",id:"kt_account_profile_details_submit",ref:"submitButton1",class:"btn btn-primary"},me={class:"indicator-label"},ce={class:"indicator-progress"},pe=t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function ue(e,a,h,r,f,l){const c=y("Field"),d=y("ErrorMessage"),m=y("VForm");return u(),p("div",P,[t("div",j,[i(m,{id:"kt_account_profile_details_form",class:"form",novalidate:"",onSubmit:a[4]||(a[4]=s=>e.formSubmit()),"validation-schema":e.profileDetailsValidator},{default:g(()=>[t("div",G,[t("div",H,[t("label",J,n(e.translate("name"))+"("+n(e.translate("arabic"))+")",1),t("div",L,[i(c,{type:"text",name:"name_ar",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:e.translate("name"),modelValue:e.newItem.name_ar,"onUpdate:modelValue":a[0]||(a[0]=s=>e.newItem.name_ar=s)},null,8,["placeholder","modelValue"]),t("div",z,[t("div",K,[i(d,{name:"name_ar"})])])])]),t("div",O,[t("label",Q,n(e.translate("name"))+"("+n(e.translate("english"))+")",1),t("div",R,[i(c,{type:"text",name:"name_en",class:"form-control form-control-lg form-control-solid",placeholder:e.translate("name"),modelValue:e.newItem.name_en,"onUpdate:modelValue":a[1]||(a[1]=s=>e.newItem.name_en=s)},null,8,["placeholder","modelValue"])])]),t("div",W,[t("label",X,n(e.translate("selectowner")),1),t("div",Y,[i(c,{type:"text",name:"owner",class:"form-control form-control-lg required form-control-solid",placeholder:e.translate("owner"),modelValue:e.newItem.owner,"onUpdate:modelValue":a[2]||(a[2]=s=>e.newItem.owner=s)},null,8,["placeholder","modelValue"]),t("div",Z,[t("div",x,[i(d,{name:"owner"})])])])]),t("div",ee,[t("label",te,n(e.translate("selectindustrytype")),1),t("div",oe,[i(c,{as:"select",name:"type",class:"form-select form-select-solid form-select-lg",modelValue:e.newItem.industrytype,"onUpdate:modelValue":a[3]||(a[3]=s=>e.newItem.industrytype=s),options:e.industry_type},{default:g(()=>[(u(!0),p(w,null,D(e.industry_type,s=>(u(),p(w,{key:s.id},[e.lang=="en"||e.lang=="enrtl"?(u(),p("option",{key:0,value:s.id},n(s.name_en),9,se)):(u(),p("option",{key:1,value:s.id},n(s.name_ar),9,ae))],64))),128))]),_:1},8,["modelValue","options"]),t("div",ne,[t("div",le,[i(d,{name:"industry_type"})])])])])]),t("div",re,[t("button",ie,n(e.translate("discard")),1),t("button",de,[t("span",me,n(e.translate("save")),1),t("span",ce,[E(n(e.translate("pleasewait"))+" ",1),pe])],512)])]),_:1},8,["validation-schema"])])])}const be=C(N,[["render",ue]]);export{be as default};
