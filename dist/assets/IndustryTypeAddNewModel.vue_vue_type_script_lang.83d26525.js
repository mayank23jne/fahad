import{h as f}from"./dom.d7d6c49b.js";import{S as p}from"./sweetalert2.all.fbc178e9.js";import{d as v,r as t,u as y,G as g}from"./index.40c6202a.js";const q=v({name:"add-industrytype-modal",components:{},props:["industrytype"],setup(u,{emit:h}){const n=t(null),o=t(null),r=t(!1);t(!1);const{t:d,te:c}=y(),i=localStorage.getItem("logged_user_id"),s=a=>c(a)?d(a):a,e=t({name_en:"",name_ar:""}),_=t({name_ar:[{required:!0,message:s("name_ar_req"),trigger:"change"}]});return{newItem:e,rules:_,submit:()=>{!n.value||(u.industrytype,n.value.validate(a=>{a&&(r.value=!0,g.post("createIndustryType",{name_en:e.value.name_en,name_ar:e.value.name_ar,user_id:i}).then(({data:l})=>{u.industrytype.push({id:l.id,name_ar:e.value.name_ar,name_en:e.value.name_en,user_id:i,is_deleted:"0",status:"1"}),setTimeout(()=>{var m;r.value=!1,e.value={name_ar:"",name_en:""},(m=n.value)==null||m.resetFields(),p.fire({text:s("savesuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:s("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{f(o.value)})},2e3)}).catch(({response:l})=>{}))}))},formRef:n,loading:r,addIndustryTypeModalRef:o,translate:s}}});export{q as _};
