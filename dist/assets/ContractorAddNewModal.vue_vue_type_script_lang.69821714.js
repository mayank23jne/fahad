import{h as l}from"./dom.d7d6c49b.js";import{S as d}from"./sweetalert2.all.fbc178e9.js";import{d as v,u as y,r as e,G as _}from"./index.40c6202a.js";const A=v({name:"add-contractor-modal",components:{},props:["items"],setup(u,{emit:g}){const{t:i,te:p}=y(),n=e(null),s=e(null),c=e(!1);e(!1);const o=e({company_name:""}),t=a=>p(a)?i(a):a,f=e({company_name:[{required:!0,message:t("reqcon"),trigger:"change"}]});return{cancelprocess:()=>{o.value.company_name="",l(s.value)},savecontractor:()=>{!n.value||n.value.validate(a=>{a&&(c.value=!0,_.post("addCompany",{company_name:o.value.company_name}).then(({data:r})=>{u.items.push({company_name:r.company_name,id:r.id}),setTimeout(()=>{var m;c.value=!1,(m=n.value)==null||m.resetFields(),d.fire({text:t("savesuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:t("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{l(s.value)}),o.value={company_name:""}},2e3)}))})},rules:f,formRef:n,loading:c,addContractorModalRef:s,company:o,translate:t}}});export{A as _};
