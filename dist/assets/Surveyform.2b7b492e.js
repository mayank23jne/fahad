import{d as E,r as d,ab as X,u as Z,Q as N,o as ee,G as g,V as z,_ as se,k as i,l as o,I as u,m as I,y as B,P as D,F as v,J as w,z as C,af as oe,p as te,n as l,H as F,x as ae,aw as ne,aj as le,B as ie,A as re}from"./index.40c6202a.js";import{D as de}from"./KTDataTable.c04eda30.js";import{S as L}from"./sweetalert2.all.fbc178e9.js";import"./object.fb242430.js";E({name:"dev-questions",components:{},setup(){return{questions:d([{title:"How to use Metronic with Django Framework ?",summary:"I\u2019ve been doing some ajax request, to populate a inside drawer, the content of that drawer has a sub menu, that you are using in list and all card toolbar.",author:"James Hunt",date:"24 minutes ago",avatar:void 0,answers:"16",upvotes:"23",icons:[{path:"media/icons/duotune/general/gen045.svg",class:"svg-icon-primary",tooltip:"New question"},{path:"media/icons/duotune/communication/com010.svg",class:"svg-icon-danger",tooltip:"User replied"}],tags:["Metronic"]},{title:"When to expect new version of Laravel ?",summary:"When approx. is the next update for the Laravel version planned? Waiting for the CRUD, 2nd factor etc. features before starting my project. Also can we expect the Laravel + Vue version in the next update ?",author:"Sandra Piquet",date:"1 day ago",avatar:"media/avatars/300-2.jpg",answers:"2",upvotes:"4",icons:[{path:"media/icons/duotune/general/gen044.svg",class:"svg-icon-warning",tooltip:"In-process"}],tags:["Pre-sale"]},{title:"Could not get Demo 7 working",summary:"could not get demo7 working from latest metronic version. Had a lot of issues installing, I had to downgrade my npm to 6.14.4 as someone else recommended here in the comments, this goot it to compile but when I ran it, the browser showed errors TypeErr..",author:"Niko Roseberg",date:"2 days ago",avatar:void 0,answers:"4",upvotes:"",icons:[{path:"media/icons/duotune/general/gen044.svg",class:"svg-icon-warning",tooltip:"In-process"}],tags:["Angular"]},{title:"I want to get refund",summary:"Your Metronic theme is so good but the reactjs version is typescript only. The description did not write any warn about it. Since I only know javascript, I can not do anything with your theme. I want to refund.",author:"Alex Bold",date:"1 day ago",avatar:"media/avatars/300-23.jpg",answers:"22",upvotes:"11",icons:[{path:"media/icons/duotune/general/gen043.svg",class:"svg-icon-success",tooltip:"Resolved"}],tags:["React","Demo 1"]},{title:"How to integrate Metronic with Blazor Server Side ?",summary:"could not get demo7 working from latest metronic version. Had a lot of issues installing, I had to downgrade my npm to 6.14.4 as someone else recommended here in the comments, this goot it to compile but when I ran it, the browser showed errors TypeErr..",author:"Tim Nilson",date:"3 days ago",avatar:void 0,answers:"44",upvotes:"3",icons:[{path:"media/icons/duotune/general/gen043.svg",class:"svg-icon-success",tooltip:"In-process"}],tags:["Blazor"]},{title:"Using Metronic with .NET multi tenant application",summary:"When approx. is the next update for the Laravel version planned? Waiting for the CRUD, 2nd factor etc. features before starting my project. Also can we expect the Laravel + Vue version in the next update ?",author:"Ana Quil",date:"5 days ago",avatar:"media/avatars/300-10.jpg",answers:"2",upvotes:"4",icons:[{path:"media/icons/duotune/general/gen043.svg",class:"svg-icon-success",tooltip:"Resolved"}],tags:["Aspdotnet"]}])}}});const ce=E({name:"editlist",props:["id","template_id"],components:{Field:X,KTDatatable:de},setup(s){const{t:h,te:j}=Z(),m=r=>j(r)?h(r):r,R=d([{key:"userfirstname",label:m("owner")},{key:"representative",label:m("representative")},{key:"permissions",label:m("permitno")},{key:"company",label:m("contractor")},{key:"unit_type",label:m("typeunit")},{key:"no_of_people",label:m("noofpeople")}]),S=d([]),b=d("");d("");const e=d({id:0,unit_number:"",unit_type:"",client_id:0,client_name:"",building_number:"",permissions:"",pilgrims:"",nationality:"",company:"",image:""}),f=d(""),p=d([]);d(!1);const y=d({id:0,company_name:""}),k=d(""),$=d(""),V=d(""),U=d(""),H=localStorage.getItem("logged_user_id"),P=localStorage.getItem("lang"),T=d(""),W=d("");d("");const A=d([]),x=d([]),n=d({category:"",date:"",detail:"",id:"",questions:[{answerType:"",answers:[],choose:null,id:0,image:[],notes:null,question:"",question_en:"",answer_detail_id:""}],title:"",user_id:""});return d(),d(""),N(T,(r,q)=>{console.log("on client change"),g.get(`showUnit/${r}`).then(({data:t})=>{console.log("units datat",t),p.value=t.data}).catch(({response:t})=>{}),g.get(`showClients/${r}`).then(({data:t})=>{S.value=t.data.map(a=>({fullName:`${a.firstname} ${a.lastname}`,id:a.id}))}).catch(({response:t})=>{}),g.post("showRegisteredPropertyunitid",{id:r,user_id:H}).then(({data:t})=>{t.length===0?(A.value=[],V.value=""):g.post("showRegisteredFieldId",{id:t[0].id}).then(({data:a})=>{console.log("office data",a),A.value=a}).catch(({response:a})=>{})}).catch(({response:t})=>{})}),N(V,(r,q)=>{console.log("on office change",r),g.post("showRegisteredFieldbyId",{id:r}).then(({data:t})=>{console.log("regissteredd",t[0]),x.value=t[0]}).catch(({response:t})=>{})}),ee(()=>{s.id,g.get(`show/${s.id}`).then(({data:r})=>{n.value=r,b.value=r.title;let q=s.template_id;if(s.template_id){k.value=q;var t=document.getElementById("checktype");t.innerText=m("amendment"),g.get("/showAnswerDetail/"+s.template_id).then(({data:a})=>{console.log("answerdetails",a),T.value=a[0].unit_id,$.value=a[0].company_id,V.value=a[0].office_id,U.value=a[0].TaskUserid;for(var _=0;_<n.value.questions.length;_++)for(var c=0;c<a.length;c++)n.value.questions[_].id==a[c].question_id&&(console.log("datak",a[c]),n.value.questions[_].answerType!="2"?n.value.questions[_].choose=a[c].answers.toString():n.value.questions[_].choose=a[c].answers,n.value.questions[_].notes=a[c].notes,n.value.questions[_].answer_detail_id=a[c].answer_detail_id)}).catch(({response:a})=>{})}}).catch(({response:r})=>{}),g.get("showUnits").then(({data:r})=>{e.value=r.data}).catch(({response:r})=>{}),g.get("showCompanies").then(({data:r})=>{y.value=r.data}).catch(({response:r})=>{})}),{selectform:n,title:b,asnwer_id:k,compaines:y,showUnits:e,saveanswer:r=>{for(let c=0;c<n.value.questions.length;c++)n.value.questions[c].choose==""&&(f.value=n.value.questions[c].id);let q=localStorage.getItem("logged_user_id"),t=new FormData;t.append("category",n.value.category),t.append("date",n.value.date),t.append("detail",n.value.detail),t.append("id",n.value.id),t.append("title",n.value.title),t.append("unit_id",T.value),t.append("company_id",$.value),t.append("office_id",V.value),t.append("operation_id",U.value),t.append("user_id",q);for(var a=0;a<n.value.questions.length;a++){let c=n.value.questions[a].answerType,M=n.value.questions[a].choose,J=n.value.questions[a].id,Q=n.value.questions[a].image,G=n.value.questions[a].notes,K=n.value.questions[a].question,Y=n.value.questions[a].answers,O=n.value.questions[a].answer_detail_id;console.log("editdata",n.value.questions[a]),t.append("questions["+a+"][answerType]",c),t.append("questions["+a+"][choose]",M||""),t.append("questions["+a+"][id]",J),t.append("questions["+a+"][image]",Q),t.append("questions["+a+"][notes]",G),t.append("questions["+a+"][question]",K),t.append("questions["+a+"][answers]",Y),n.value.questions[a].answer_detail_id!=""&&t.append("questions["+a+"][answers_id]",O)}console.log("operation_id",U.value);for(const c of t.values())console.log(c);var _=document.getElementById("checktype");_.innerText==m("amendment")?(t.append("answer_id",k.value),t.append("_method","PUT"),g.post("updateAnswer/"+k.value,t).then(({data:c})=>{setTimeout(()=>{L.fire({text:m("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:m("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{z.push({name:"SurveyList"})})},2e3)}).catch(({response:c})=>{})):g.post("addAnswer",t).then(({data:c})=>{setTimeout(()=>{L.fire({text:m("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:m("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{z.push({name:"SurveyList"})})},2e3)}).catch(({response:c})=>{})},unit_id:T,company_id:$,office_id:V,showusers:S,items:p,fields:R,translate:m,getpath:(r,q)=>{n.value.questions.forEach((t,a)=>{t.id==q&&(t.image=r.target.files[0])})},operation_id:U,offices:A,office:W,lang:P,officeslist:x}}});const ue={class:"card"},pe={class:"card-header border-0 pt-6"},me={class:"card-title"},he={style:{"font-weight":"bold","font-size":"20px"},class:"mb-3 d-flex justify-content-center"},fe={class:"card-body pt-0"},ge={style:{"font-size":"18px"},class:"row"},ve={class:"col-lg-4 fv-row"},_e={class:"col-lg-4 col-form-label fw-semobold fs-6"},we=["value"],ye={class:"col-lg-4 fv-row"},be={class:"col-lg-4 col-form-label fw-semobold fs-6"},ke=["value"],qe={class:"col-lg-4 fv-row"},Ve={class:"col-lg-4 col-form-label fw-semobold fs-6"},Ue=["value"],Te={class:"table-responsive"},Ie={class:"table align-middle table-row-dashed fs-6 fw-semobold gy-4",id:"kt_subscription_products_table"},Ce={class:"text-start text-muted fw-bold fs-7 text-uppercase gs-0"},Se=o("i",{class:"bi bi-sort-alpha-down","aria-label":"Sort Icon"},null,-1),$e={class:"text-gray-600"},Ae={key:0},Be={key:1},De={class:"card h-100 mt-5"},je={class:"card-body d-flex justify-content-center text-center flex-column p-8"},Re={class:"d-flex flex-grow-1 min-width-zero"},xe={class:"card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center",style:{"padding-left":"0px"}},Me={class:"list-item-heading mb-0 truncate mb-1 mt-1"},Ne={class:"heading-number d-inline-block"},ze=["value","name","id","onUpdate:modelValue"],Fe=["for"],Le={key:2,class:"form-check form-check-custom form-check-solid pr-3"},Ee=["onUpdate:modelValue","name","value","id"],He=["for"],Pe={class:"mt-3"},We={class:"col-lg-12 col-form-label fw-semobold fs-6 text-start"},Je={class:"input-group"},Qe=["onUpdate:modelValue"],Ge={class:"row"},Ke={class:"col-6"},Ye={class:"col-lg-12 col-form-label fw-semobold fs-6 text-start"},Oe={class:"input-group"},Xe={class:"card mt-5 pt-5"},Ze={class:"card-body"},es={style:{"font-size":"18px"},class:"row"},ss={class:"col-6"},os={class:"col-lg-12 col-form-label fw-semobold fs-6 text-start"},ts={class:"input-group"},as=["options"],ns=["value"],ls={class:"col-xs-6 col-sm-6 col-md-6 text-end mt-5"};function is(s,h,j,m,R,S){const b=te("Field");return l(),i(v,null,[o("div",ue,[o("div",pe,[o("div",me,[o("div",he,u(s.title),1)])]),o("div",fe,[o("div",ge,[o("div",ve,[o("label",_e,u(s.translate("chooseunit")),1),I(b,{as:"select",name:"country",class:D(["form-select form-select-solid form-select-lg fw-semobold chooseunit",s.lang==="enrtl"&&"chooseunit1"]),modelValue:s.unit_id,"onUpdate:modelValue":h[0]||(h[0]=e=>s.unit_id=e),options:s.showUnits},{default:B(()=>[(l(!0),i(v,null,w(s.showUnits,e=>(l(),i("option",{key:e,value:e.id},u(e.building_name),9,we))),128))]),_:1},8,["class","modelValue","options"])]),o("div",ye,[o("label",be,u(s.translate("offices")),1),I(b,{as:"select",name:"country",class:D(["form-select form-select-solid form-select-lg fw-semobold officeslist",s.lang==="enrtl"&&"officeslist1"]),modelValue:s.office_id,"onUpdate:modelValue":h[1]||(h[1]=e=>s.office_id=e),options:s.offices},{default:B(()=>[(l(!0),i(v,null,w(s.offices,e=>(l(),i("option",{key:e,value:e.id},u(e.property_list),9,ke))),128))]),_:1},8,["class","modelValue","options"])]),o("div",qe,[o("label",Ve,u(s.translate("selectcontractor")),1),I(b,{as:"select",name:"country",class:D(["form-select form-select-solid form-select-lg fw-semobold selectcontractor",s.lang==="enrtl"&&"selectcontractor1"]),modelValue:s.company_id,"onUpdate:modelValue":h[2]||(h[2]=e=>s.company_id=e),options:s.compaines,"value-field":"id","text-field":"company_name"},{default:B(()=>[(l(!0),i(v,null,w(s.compaines,e=>(l(),i("option",{key:e,value:e.id},u(e.company_name),9,Ue))),128))]),_:1},8,["class","modelValue","options"])])]),o("div",null,[o("div",Te,[o("table",Ie,[o("thead",null,[o("tr",Ce,[(l(!0),i(v,null,w(s.fields,e=>(l(),i("th",{key:e.key},[F(u(e.label)+" ",1),Se]))),128))])]),o("tbody",$e,[(l(!0),i(v,null,w(s.items,e=>(l(),i("tr",{key:e},[(l(!0),i(v,null,w(s.fields,f=>(l(),i("td",{key:f.key},[f.key==="no_of_people"?(l(),i("span",Ae,u(s.officeslist&&s.officeslist.no_of_people),1)):(l(),i("span",Be,u(e[f.key]),1))]))),128))]))),128))])])])])])]),(l(!0),i(v,null,w(s.selectform.questions,(e,f)=>(l(),i("div",{key:`item${f}`},[o("div",De,[o("div",je,[o("div",Re,[o("div",xe,[o("div",Me,[o("span",Ne,u(f+1),1),F(" "+u(s.lang==="ar"?e.question:e.question_en),1)])])]),e.answerType=="0"?(l(),ae(b,{key:0,type:"text",name:"choose",class:"form-control form-control-lg form-control-solid",placeholder:s.lang==="ar"?" \u0636\u0639 \u0627\u062C\u0627\u0628\u062A\u0643 \u0647\u0646\u0627 ":"Put your answer here",modelValue:e.choose,"onUpdate:modelValue":p=>e.choose=p},null,8,["placeholder","modelValue","onUpdate:modelValue"])):e.answerType=="2"?(l(!0),i(v,{key:1},w(e.answers,(p,y)=>(l(),i("div",{class:"d-flex align-items-center",key:y},[C(o("input",{class:"form-check-input",type:"checkbox",value:p.value,name:`checkanswer${y}`,id:`flexCheckDefault${y}`,"onUpdate:modelValue":k=>e.choose=k},null,8,ze),[[ne,e.choose]]),o("label",{class:"form-check-label m-2",for:`flexCheckDefault${y}`},u(s.lang==="ar"?p.label:p.label_en),9,Fe)]))),128)):e.answerType=="1"?(l(),i("div",Le,[(l(!0),i(v,null,w(e.answers,(p,y)=>(l(),i("div",{key:y},[C(o("input",{"onUpdate:modelValue":k=>e.choose=k,class:"form-check-input m-2",type:"radio",name:`answer${f}`,value:p.value,id:`flexRadio${f}`},null,8,Ee),[[le,e.choose]]),o("label",{class:"form-check-label m-2",for:`flexRadio${f}`},u(s.lang==="ar"?p.label:p.label_en),9,He)]))),128))])):ie("",!0),o("div",Pe,[o("label",We,u(s.translate("comments")),1),o("div",Je,[C(o("textarea",{class:"form-control form-control-solid rounded-3",rows:"3","max-rows":"6","onUpdate:modelValue":p=>e.notes=p},null,8,Qe),[[re,e.notes]])]),o("div",Ge,[o("div",Ke,[o("label",Ye,u(s.translate("uploadfile")),1),o("div",Oe,[I(b,{type:"file",name:"image",class:"form-control form-control-lg form-control-solid",placeholder:"Company website",modelValue:e.image,"onUpdate:modelValue":p=>e.image=p,ref_for:!0,ref:"file",onChange:p=>s.getpath(p,e.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])])])])])]))),128)),o("div",Xe,[o("div",Ze,[o("div",es,[o("div",ss,[o("label",os,u(s.translate("assignto")),1),o("div",ts,[C(o("select",{name:"status",class:"form-select form-select-solid form-select-lg fw-semobold",options:s.showusers,"onUpdate:modelValue":h[3]||(h[3]=e=>s.operation_id=e)},[(l(!0),i(v,null,w(s.showusers,e=>(l(),i("option",{key:e,value:e.id},u(e.fullName),9,ns))),128))],8,as),[[oe,s.operation_id]])])]),o("div",ls,[o("button",{id:"checktype",class:"btn btn-primary",onClick:h[4]||(h[4]=(...e)=>s.saveanswer&&s.saveanswer(...e))},u(s.translate("save")),1)])])])])],64)}const hs=se(ce,[["render",is]]);export{hs as default};
