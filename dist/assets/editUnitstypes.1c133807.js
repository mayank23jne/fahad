import{d as y,ac as v,ab as h,aA as g,u as w,r as m,o as V,G as b,V as k,_ as I,k as S,l as s,m as d,y as F,p as _,n as A,I as n,H as B}from"./index.40c6202a.js";import{S as T}from"./sweetalert2.all.fbc178e9.js";import{c as U,a as $}from"./object.fb242430.js";const C=y({name:"editunitstype",props:["id"],components:{ErrorMessage:v,Field:h,VForm:g},setup(t){const{t:o,te:f}=w(),a=m(null);localStorage.getItem("logged_user_id");const l=m({unit_type_ar:"",unit_type_en:""}),i=e=>f(e)?o(e):e,r=U().shape({unit_type_ar:$().required(i("name_req"))});V(()=>{b.post("showUnitsTypesId",{id:t.id}).then(({data:e})=>{console.log("show by",e),l.value.unit_type_ar=e[0].type,l.value.unit_type_en=e[0].type_en})});const c=()=>{a.value&&(a.value.setAttribute("data-kt-indicator","on"),setTimeout(()=>{var e;(e=a.value)==null||e.removeAttribute("data-kt-indicator")},2e3))},p=()=>{if(a.value){a.value.setAttribute("data-kt-indicator","on");const e=new FormData;e.append("unit_type_ar",l.value.unit_type_ar),e.append("unit_type_en",l.value.unit_type_en),e.append("id",t.id),b.post("updateUnitType",e).then(({data:u})=>{setTimeout(()=>{T.fire({text:i("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:i("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{k.push({name:"unitestypes"})})},2e3)}),setTimeout(()=>{var u;(u=a.value)==null||u.removeAttribute("data-kt-indicator")},2e3)}};return m(""),{submitButton1:a,saveChanges1:c,newItem:l,formSubmit:p,profileDetailsValidator:r,translate:i}}});const D={class:"card mb-5 mb-xl-10"},E={id:"kt_account_profile_details",class:"collapse show"},M={class:"card-body border-top p-9"},q={class:"row mb-6"},N={class:"col-lg-4 col-form-label required fw-semobold fs-6"},j={class:"col-lg-8"},G={class:"fv-plugins-message-container"},H={class:"fv-help-block"},z={class:"row mb-6"},J={class:"col-lg-4 col-form-label fw-semobold fs-6"},K={class:"col-lg-8"},L={class:"card-footer d-flex justify-content-end py-6 px-9"},O={type:"reset",class:"btn btn-light btn-active-light-primary me-2"},P={type:"submit",id:"kt_account_profile_details_submit",ref:"submitButton1",class:"btn btn-primary"},Q={class:"indicator-label"},R={class:"indicator-progress"},W=s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function X(t,o,f,a,l,i){const r=_("Field"),c=_("ErrorMessage"),p=_("VForm");return A(),S("div",D,[s("div",E,[d(p,{id:"kt_account_profile_details_form",class:"form",novalidate:"",onSubmit:o[2]||(o[2]=e=>t.formSubmit()),"validation-schema":t.profileDetailsValidator},{default:F(()=>[s("div",M,[s("div",q,[s("label",N,n(t.translate("typeunit"))+"("+n(t.translate("arabic"))+")",1),s("div",j,[d(r,{type:"text",name:"unit_type_ar",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:t.translate("placeunittype"),modelValue:t.newItem.unit_type_ar,"onUpdate:modelValue":o[0]||(o[0]=e=>t.newItem.unit_type_ar=e)},null,8,["placeholder","modelValue"]),s("div",G,[s("div",H,[d(c,{name:"category"})])])])]),s("div",z,[s("label",J,n(t.translate("typeunit"))+"("+n(t.translate("english"))+")",1),s("div",K,[d(r,{type:"text",name:"unit_type_en",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:t.translate("placeunittype"),modelValue:t.newItem.unit_type_en,"onUpdate:modelValue":o[1]||(o[1]=e=>t.newItem.unit_type_en=e)},null,8,["placeholder","modelValue"])])])]),s("div",L,[s("button",O,n(t.translate("discard")),1),s("button",P,[s("span",Q,n(t.translate("save")),1),s("span",R,[B(n(t.translate("pleasewait"))+" ",1),W])],512)])]),_:1},8,["validation-schema"])])])}const ee=I(C,[["render",X]]);export{ee as default};
