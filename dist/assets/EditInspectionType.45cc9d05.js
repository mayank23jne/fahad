import{d as h,ac as g,ab as y,aA as w,u as V,r as _,o as I,G as v,V as k,_ as S,k as T,l as t,m as d,y as F,p as f,n as A,I as l,H as B}from"./index.40c6202a.js";import{S as E}from"./sweetalert2.all.fbc178e9.js";import{c as $,a as C}from"./object.fb242430.js";const D=h({name:"editinspectiontype",props:["id"],components:{ErrorMessage:g,Field:y,VForm:w},setup(e){const{t:s,te:b}=V(),o=_(null),r=_({name_en:"",name_ar:""}),m=localStorage.getItem("logged_user_id"),n=a=>b(a)?s(a):a,c=$().shape({name_ar:C().required(n("name_ar_req"))});I(()=>{v.post("showInspectionTypeId",{id:e.id,user_id:m}).then(({data:a})=>{r.value.name_ar=a[0].name_ar,r.value.name_en=a[0].name_en})});const p=()=>{o.value&&(o.value.setAttribute("data-kt-indicator","on"),setTimeout(()=>{var a;(a=o.value)==null||a.removeAttribute("data-kt-indicator")},2e3))},i=()=>{if(o.value){o.value.setAttribute("data-kt-indicator","on");const a=new FormData;a.append("name_en",r.value.name_en),a.append("name_ar",r.value.name_ar),a.append("user_id",m),a.append("id",e.id),v.post("updateInspectionType",a).then(({data:u})=>{setTimeout(()=>{E.fire({text:n("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:n("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{k.push({name:"inspectiontype"})})},2e3)}),setTimeout(()=>{var u;(u=o.value)==null||u.removeAttribute("data-kt-indicator")},2e3)}};return _(""),{submitButton1:o,saveChanges1:p,newItem:r,formSubmit:i,profileDetailsValidator:c,translate:n}}});const M={class:"card mb-5 mb-xl-10"},q={id:"kt_account_profile_details",class:"collapse show"},N={class:"card-body border-top p-9"},U={class:"row mb-6"},j={class:"col-lg-4 col-form-label required fw-semobold fs-6"},G={class:"col-lg-8"},H={class:"fv-plugins-message-container"},z={class:"fv-help-block"},J={class:"row mb-6"},K={class:"col-lg-4 col-form-label fw-semobold fs-6"},L={class:"col-lg-8 fv-row"},O={class:"card-footer d-flex justify-content-end py-6 px-9"},P={type:"reset",class:"btn btn-light btn-active-light-primary me-2"},Q={type:"submit",id:"kt_account_profile_details_submit",ref:"submitButton1",class:"btn btn-primary"},R={class:"indicator-label"},W={class:"indicator-progress"},X=t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function Y(e,s,b,o,r,m){const n=f("Field"),c=f("ErrorMessage"),p=f("VForm");return A(),T("div",M,[t("div",q,[d(p,{id:"kt_account_profile_details_form",class:"form",novalidate:"",onSubmit:s[2]||(s[2]=i=>e.formSubmit()),"validation-schema":e.profileDetailsValidator},{default:F(()=>[t("div",N,[t("div",U,[t("label",j,l(e.translate("name"))+"("+l(e.translate("arabic"))+")",1),t("div",G,[d(n,{type:"text",name:"name_ar",class:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:e.translate("name"),modelValue:e.newItem.name_ar,"onUpdate:modelValue":s[0]||(s[0]=i=>e.newItem.name_ar=i)},null,8,["placeholder","modelValue"]),t("div",H,[t("div",z,[d(c,{name:"name_ar"})])])])]),t("div",J,[t("label",K,l(e.translate("name"))+"("+l(e.translate("english"))+")",1),t("div",L,[d(n,{type:"text",name:"name_en",class:"form-control form-control-lg form-control-solid",placeholder:e.translate("name"),modelValue:e.newItem.name_en,"onUpdate:modelValue":s[1]||(s[1]=i=>e.newItem.name_en=i)},null,8,["placeholder","modelValue"])])])]),t("div",O,[t("button",P,l(e.translate("discard")),1),t("button",Q,[t("span",R,l(e.translate("save")),1),t("span",W,[B(l(e.translate("pleasewait"))+" ",1),X])],512)])]),_:1},8,["validation-schema"])])])}const te=S(D,[["render",Y]]);export{te as default};
