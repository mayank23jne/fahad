import{aB as L,r as a,G as N,d as k,o as w,L as D,_ as I,k as C,l as p,m as v,y as d,p as b,n as E,H as i,I as m}from"./index.40c6202a.js";import{D as x}from"./KTDataTable.c04eda30.js";import{a as $}from"./index.30a6773f.js";const T=L("todo",()=>{const s=a({}),c=a({});a(localStorage.getItem("accessToken"));function u(o){s.value={...o}}function n(o){return N.get(o).then(({data:r})=>{c.value=r}).catch(({response:r})=>{u(r.data)})}return{errors:s,todoList:c,getCurrentPage:n}}),q=k({name:"todo-listing",components:{Datatable:x},setup(){const s=T();D();const c=a([{columnName:"question",columnLabel:"question",sortEnabled:!0,columnWidth:175},{columnName:"status",columnLabel:"status",sortEnabled:!0,columnWidth:230},{columnName:"date",columnLabel:"Date",sortEnabled:!0,columnWidth:175},{columnName:"detail",columnLabel:"detail",sortEnabled:!0,columnWidth:175}]),u=a(1);a(0);const n=a([]),o=a([]),r=a([]);a([]);const f=`showTaskInfo/${localStorage.getItem("logged_user_id")}?page=${u.value}`;w(async()=>{await s.getCurrentPage(f),o.value=JSON.parse(JSON.stringify(s.todoList.data))});const _=()=>{n.value.forEach(e=>{t()}),n.value.length=0},t=e=>{for(let l=0;l<r.value.length;l++);},g=a(""),S=()=>{if(g.value!=="")for(let e=0;e<o.value.length;e++)y(o.value[e],g.value)},y=(e,l)=>{for(let h in e)if(!Number.isInteger(e[h])&&typeof e[h]!="object"&&e[h].indexOf(l)!=-1)return!0;return!1};return{dataList:o,tableData:r,tableHeader:c,deleteCustomer:t,search:g,searchItems:S,selectedIds:n,deleteFewCustomers:_,sort:e=>{const l=e.order==="asc";e.label&&$(r.value,e.label,{reverse:l})},onItemSelect:e=>{n.value=e}}}}),B={class:"card"},W=p("div",{class:"card-header border-0 pt-6"},[p("div",{class:"card-title"}),p("div",{class:"card-toolbar"})],-1),H={class:"card-body pt-0"};function O(s,c,u,n,o,r){const f=b("router-link"),_=b("Datatable");return E(),C("div",B,[W,p("div",H,[v(_,{data:s.dataList,header:s.tableHeader,"enable-items-per-page-dropdown":!0},{question:d(({row:t})=>[v(f,{to:{name:"usertodo",params:{id:t.task_id}},class:"text-gray-600 text-hover-primary mb-1"},{default:d(()=>[i(m(t.question),1)]),_:2},1032,["to"])]),status:d(({row:t})=>[i(m(t.status),1)]),Date:d(({row:t})=>[i(m(t.Date),1)]),detail:d(({row:t})=>[i(m(t.detail),1)]),_:1},8,["data","header"])])])}const A=I(q,[["render",O]]);export{A as default};
