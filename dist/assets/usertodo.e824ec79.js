import{d as I,ac as N,ab as F,aA as S,r as n,u as q,o as A,G as y,L as $,_ as B,k as u,l as e,m as l,y as D,p as v,n as p,I as i,F as U,J as M,z as T,aw as E,B as R,H as j}from"./index.40c6202a.js";import{D as P}from"./KTDataTable.c04eda30.js";import"./object.fb242430.js";import{S as L}from"./sweetalert2.all.fbc178e9.js";const z=I({name:"usertodo",props:["id"],components:{Datatable:P,ErrorMessage:N,Field:F,VForm:S},setup(s){var w;const t=n(null),_=n(null),b=n(null),f=$();localStorage.getItem("role_id");const g=n(!1),r="",{t:d,te:h}=q(),o=c=>h(c)?d(c):c,V=n([{status:1,label:o("completed")},{status:2,label:o("suspended")},{status:3,label:o("notdone")}]);n(1),n(0),n([]);let C=n((w=localStorage.getItem("permissions"))==null?void 0:w.split(","));const m=n({Date:"",confirm:"",detail:"",image:"",imageAnswer:"",monitor_id:"",notes:"",question:"",status:"0",task_id:"0",tempImage:"",monitorNotes:""});return A(()=>{var c;return((c=C.value)==null?void 0:c.indexOf("4"))!==-1&&(g.value=!0),y.get(`showTask/${s.id}`).then(({data:a})=>{m.value=a[0],m.value.tempImage=a[0].image}).catch(({response:a})=>{})}),{userData:m,router:f,tododata:r,confirmtask:g,statuslist:V,onImageClick:c=>{},submit:()=>{let c=localStorage.getItem("logged_user_id");const a=new FormData;return a.append("status",m.value.status),a.append("notes",m.value.notes),a.append("image",null),a.append("task_id",m.value.task_id),a.append("confirm",m.value.confirm),a.append("monitor_id",c),a.append("monitorNotes",m.value.monitorNotes),y.post("updateTask",a).then(({data:k})=>{k=="success"&&setTimeout(()=>{L.fire({text:o("savedsuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:o("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{f.push({name:"todolist"})})},2e3)}).catch(({response:k})=>{})},submitButtonRef:t,modalRef:_,createAPIKeyModalRef:b,translate:o}}}),G={class:"card mb-5 mb-xl-10"},H={id:"kt_account_profile_details",class:"collapse show"},J={class:"card-body border-top p-9"},K={class:"row mb-6"},O={class:"col-lg-4 col-form-label required fw-semobold fs-6"},Q={class:"col-lg-8 fv-row"},W={class:"fv-plugins-message-container"},X={class:"fv-help-block"},Y={class:"row mb-6"},Z={class:"col-lg-4 col-form-label required fw-semobold fs-6"},x={class:"col-lg-8 fv-row"},ee={class:"fv-plugins-message-container"},se={class:"fv-help-block"},oe={class:"row mb-6"},te={class:"col-lg-4 col-form-label required fw-semobold fs-6"},le={class:"col-lg-8 fv-row"},ae={class:"fv-plugins-message-container"},ne={class:"fv-help-block"},ie={class:"row mb-6"},re={class:"col-lg-4 col-form-label fw-semobold fs-6"},de={class:"col-lg-8 fv-row"},ce=["value"],me={class:"fv-plugins-message-container"},ue={class:"fv-help-block"},pe={class:"row mb-6"},fe={class:"col-lg-4 col-form-label fw-semobold fs-6"},ge={class:"col-lg-8 fv-row"},he={class:"fv-plugins-message-container"},ve={class:"fv-help-block"},_e={class:"row mb-6"},be={class:"col-lg-4 col-form-label fw-semobold fs-6"},we={class:"col-lg-8 fv-row"},ke={class:"fv-plugins-message-container"},ye={class:"fv-help-block"},De={class:"row mb-6"},Ve={class:"col-lg-4 col-form-label fw-semobold fs-6"},Ce={class:"col-lg-8 fv-row"},Ie={class:"d-flex align-items-center mt-3"},Ne={class:"col-lg-10 fv-row",style:{"margin-left":"20px"}},Fe={class:"fv-plugins-message-container"},Se={class:"fv-help-block"},qe={class:"row mb-0"},Ae={class:"col-lg-6 d-flex align-items-center"},$e=["src"],Be={class:"col-lg-6 d-flex align-items-center"},Ue=["src"],Me={class:"card-footer d-flex justify-content-end py-6 px-9"},Te={type:"submit",id:"kt_account_profile_details_submit",ref:"submitButton1",class:"btn btn-primary"},Ee={class:"indicator-label"},Re={class:"indicator-progress"},je=e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function Pe(s,t,_,b,f,g){const r=v("Field"),d=v("ErrorMessage"),h=v("VForm");return p(),u("div",G,[e("div",H,[l(h,{id:"kt_account_profile_details_form",class:"form",novalidate:"",onSubmit:s.submit,model:s.userData},{default:D(()=>[e("div",J,[e("div",K,[e("label",O,i(s.translate("thedetails")),1),e("div",Q,[l(r,{type:"text",name:"detail",class:"form-control form-control-lg form-control-solid",placeholder:"Company name",modelValue:s.userData.detail,"onUpdate:modelValue":t[0]||(t[0]=o=>s.userData.detail=o),readonly:""},null,8,["modelValue"]),e("div",W,[e("div",X,[l(d,{name:"detail"})])])])]),e("div",Y,[e("label",Z,i(s.translate("thedate")),1),e("div",x,[l(r,{type:"text",name:"Date",class:"form-control form-control-lg form-control-solid",placeholder:"Date",modelValue:s.userData.Date,"onUpdate:modelValue":t[1]||(t[1]=o=>s.userData.Date=o)},null,8,["modelValue"]),e("div",ee,[e("div",se,[l(d,{name:"Date"})])])])]),e("div",oe,[e("label",te,i(s.translate("taskname")),1),e("div",le,[l(r,{type:"text",name:"question",class:"form-control form-control-lg form-control-solid",placeholder:"question",modelValue:s.userData.question,"onUpdate:modelValue":t[2]||(t[2]=o=>s.userData.question=o)},null,8,["modelValue"]),e("div",ae,[e("div",ne,[l(d,{name:"question"})])])])]),e("div",ie,[e("label",re,i(s.translate("thecondition")),1),e("div",de,[l(r,{as:"select",name:"status",class:"form-select form-select-solid form-select-lg fw-semobold",options:s.statuslist,modelValue:s.userData.status,"onUpdate:modelValue":t[3]||(t[3]=o=>s.userData.status=o)},{default:D(()=>[(p(!0),u(U,null,M(s.statuslist,o=>(p(),u("option",{key:o,value:o.status},i(o.label),9,ce))),128))]),_:1},8,["options","modelValue"]),e("div",me,[e("div",ue,[l(d,{name:"condition"})])])])]),e("div",pe,[e("label",fe,i(s.translate("comments")),1),e("div",ge,[l(r,{type:"text",name:"notes",class:"form-control form-control-lg form-control-solid",placeholder:"Company website",modelValue:s.userData.notes,"onUpdate:modelValue":t[4]||(t[4]=o=>s.userData.notes=o)},null,8,["modelValue"]),e("div",he,[e("div",ve,[l(d,{name:"notes"})])])])]),e("div",_e,[e("label",be,i(s.translate("attachfile")),1),e("div",we,[l(r,{type:"file",name:"image",class:"form-control form-control-lg form-control-solid",placeholder:"Company website",modelValue:s.userData.image,"onUpdate:modelValue":t[5]||(t[5]=o=>s.userData.image=o)},null,8,["modelValue"]),e("div",ke,[e("div",ye,[l(d,{name:"image"})])])])]),e("div",De,[e("label",Ve,i(s.translate("tobesure")),1),e("div",Ce,[e("div",Ie,[s.confirmtask?T((p(),u("input",{key:0,id:"checkbox-1",class:"form-check-input",name:"checkbox-1",value:"1","unchecked-value":"0",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=o=>s.userData.confirm=o)},null,512)),[[E,s.userData.confirm]]):R("",!0),e("div",Ne,[l(r,{type:"text",name:"monitorNotes",class:"form-control form-control-lg form-control-solid",placeholder:"Company website",modelValue:s.userData.monitorNotes,"onUpdate:modelValue":t[7]||(t[7]=o=>s.userData.monitorNotes=o)},null,8,["modelValue"]),e("div",Fe,[e("div",Se,[l(d,{name:"monitorNotes"})])])])])])]),e("div",qe,[e("div",Ae,[s.userData.imageAnswer==""?(p(),u("img",{key:0,src:"https://www.w3schools.com/images/lamp.jpg",onClick:t[8]||(t[8]=o=>s.onImageClick(s.$data)),style:{height:"100px",width:"100px"}})):(p(),u("img",{key:1,src:"https://forms.innovativeideasbox.com/API/public/uploads/"+s.userData.imageAnswer,style:{height:"100px",width:"100px"}},null,8,$e))]),e("div",Be,[s.userData.image==""?(p(),u("img",{key:0,src:"https://www.w3schools.com/images/lamp.jpg",onClick:t[9]||(t[9]=o=>s.onImageClick(s.$data)),style:{height:"100px",width:"100px"}})):(p(),u("img",{key:1,src:"https://forms.innovativeideasbox.com/API/public/uploads/"+s.userData.tempImage,style:{height:"100px",width:"100px"}},null,8,Ue))])])]),e("div",Me,[e("button",Te,[e("span",Ee,i(s.translate("save")),1),e("span",Re,[j(i(s.translate("pleasewait"))+" ",1),je])],512)])]),_:1},8,["onSubmit","model"])])])}const Oe=B(z,[["render",Pe]]);export{Oe as default};
