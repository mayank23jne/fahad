import{D as f}from"./KTDataTable.c04eda30.js";import{C as w}from"./ContractorAddNewModal.3571f9db.js";import{a as N}from"./index.30a6773f.js";import{d as y,u as C,r as m,o as E,G as S,V as D,_ as I,k as L,l as d,m as h,y as o,F as W,p as g,n as k,H as s,I as a}from"./index.40c6202a.js";import"./ContractorAddNewModal.vue_vue_type_script_lang.69821714.js";import"./dom.d7d6c49b.js";import"./sweetalert2.all.fbc178e9.js";const $=y({name:"unitsupdate",components:{Datatable:f,ContractorAddNewModal:w},setup(){const{t:n,te:p}=C(),b=m([{columnName:"buildingno",columnLabel:"building_number",sortEnabled:!0,columnWidth:175},{columnName:"buildingname",columnLabel:"building_name",sortEnabled:!0,columnWidth:175},{columnName:"representative",columnLabel:"representative",sortEnabled:!0,columnWidth:200},{columnName:"owner",columnLabel:"client_name",sortEnabled:!0,columnWidth:200},{columnName:"permitno",columnLabel:"permissions",sortEnabled:!0,columnWidth:200},{columnName:"contractor",columnLabel:"company",sortEnabled:!0,columnWidth:200},{columnName:"typeunit",columnLabel:"unit_type",sortEnabled:!0,columnWidth:200},{columnName:"events",columnLabel:"actions",sortEnabled:!0,columnWidth:170}]),i=m([]),r=m([]);E(()=>{S.get("showUnits").then(({data:t})=>{r.value=t.data})});const _=t=>{D.push({name:"units",params:{id:t}})},u=()=>{i.value.forEach(t=>{c(t)}),i.value.length=0},c=t=>{for(let l=0;l<r.value.length;l++)r.value[l].id===t&&r.value.splice(l,1)},e=m("");return{tableData:r,tableHeader:b,gotopage:_,deleteCustomer:c,search:e,selectedIds:i,deleteFewCustomers:u,sort:t=>{const l=t.order==="asc";t.label&&N(r.value,t.label,{reverse:l})},onItemSelect:t=>{i.value=t},translate:t=>p(t)?n(t):t}}}),A={class:"card pt-6"},M={class:"card-body pt-0"},O=["onClick"];function V(n,p,b,i,r,_){const u=g("Datatable"),c=g("ContractorAddNewModal");return k(),L(W,null,[d("div",A,[d("div",M,[h(u,{onOnSort:n.sort,onOnItemsSelect:n.onItemSelect,data:n.tableData,header:n.tableHeader,"enable-items-per-page-dropdown":!0},{building_number:o(({row:e})=>[s(a(e.building_number),1)]),building_name:o(({row:e})=>[s(a(e.building_name),1)]),representative:o(({row:e})=>[s(a(e.representative),1)]),client_name:o(({row:e})=>[s(a(e.client_name),1)]),permissions:o(({row:e})=>[s(a(e.permissions),1)]),company:o(({row:e})=>[s(a(e.company),1)]),unit_type:o(({row:e})=>[s(a(e.unit_type),1)]),actions:o(({row:e})=>[d("button",{onClick:v=>n.gotopage(e.id),class:"btn btn-sm btn-light btn-active-light-primary"},a(n.translate("details")),9,O)]),_:1},8,["onOnSort","onOnItemsSelect","data","header"])])]),h(c,{items:n.tableData},null,8,["items"])],64)}const J=I($,[["render",V]]);export{J as default};
