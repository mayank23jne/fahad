import{h as k}from"./dom.d7d6c49b.js";import{S as B}from"./sweetalert2.all.fbc178e9.js";import{d as S,r as d,u as M,G as N,_ as $,k as g,l as a,I as s,m as n,y as p,ae as R,p as u,n as y,H as w,B as C}from"./index.40c6202a.js";const q=S({name:"add-category-modal",components:{},props:["items"],setup(e){const t=d(null),i=d(null),m=d(!1);d(!1);const{t:f,te:v}=M(),r=c=>v(c)?f(c):c,o=d({category_ar:"",category_en:""}),_=d({category_ar:[{required:!0,message:r("reqcat"),trigger:"change"}]});return{cancelprocess:()=>{o.value.category_ar="",o.value.category_en="",k(i.value)},savecategory:()=>{!t.value||t.value.validate(c=>{c&&(m.value=!0,N.post("category/create",{category:o.value.category_ar,category_en:o.value.category_en}).then(({data:V})=>{e.items.push({category:o.value.category_ar,category_en:o.value.category_en,id:V.id,status:"1"}),setTimeout(()=>{var b;m.value=!1,o.value={category_ar:"",category_en:""},(b=t.value)==null||b.resetFields(),B.fire({text:r("savesuccess"),icon:"success",buttonsStyling:!1,confirmButtonText:r("okgotit"),heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{k(i.value)})},2e3)}))})},rules:_,formRef:t,loading:m,addCategoryModalRef:i,category:o,translate:r}}}),A={class:"modal fade",id:"kt_modal_add_category",ref:"addCategoryModalRef",tabindex:"-1","aria-hidden":"true"},T={class:"modal-dialog modal-dialog-centered mw-650px"},I={class:"modal-content"},U={class:"modal-header",id:"kt_modal_add_customer_header"},D={class:"fw-bold"},E={id:"kt_modal_add_category_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},F={class:"svg-icon svg-icon-1"},G={class:"modal-body py-10 px-lg-17"},H={class:"scroll-y me-n7 pe-7",id:"kt_modal_add_category_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_category_header","data-kt-scroll-wrappers":"#kt_modal_add_category_scroll","data-kt-scroll-offset":"300px"},j={class:"fv-row mb-7"},z={class:"required fs-6 fw-semobold mb-2"},J={class:"fv-row mb-7"},K={class:"fs-6 fw-semobold mb-2"},L={class:"modal-footer flex-center"},O=["data-kt-indicator"],P={key:0,class:"indicator-label"},Q={class:"svg-icon svg-icon-3 ms-2 me-0"},W={key:1,class:"indicator-progress"},X=a("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function Y(e,t,i,m,f,v){const r=u("inline-svg"),o=u("el-input"),_=u("el-form-item"),h=u("el-form");return y(),g("div",A,[a("div",T,[a("div",I,[a("div",U,[a("h2",D,s(e.translate("addrolegroup")),1),a("div",E,[a("span",F,[n(r,{src:"/media/icons/duotune/arrows/arr061.svg"})])])]),n(h,{onSubmit:t[3]||(t[3]=R(l=>e.savecategory(),["prevent"])),model:e.category,rules:e.rules,ref:"formRef"},{default:p(()=>[a("div",G,[a("div",H,[a("div",j,[a("label",z,s(e.translate("deparmentname"))+" ("+s(e.translate("arabic"))+")",1),n(_,{prop:"category_ar"},{default:p(()=>[n(o,{modelValue:e.category.category_ar,"onUpdate:modelValue":t[0]||(t[0]=l=>e.category.category_ar=l),type:"text",name:"category_ar",placeholder:e.translate("placecontractor")},null,8,["modelValue","placeholder"])]),_:1})]),a("div",J,[a("label",K,s(e.translate("deparmentname"))+" ("+s(e.translate("english"))+")",1),n(_,{prop:"category_en"},{default:p(()=>[n(o,{modelValue:e.category.category_en,"onUpdate:modelValue":t[1]||(t[1]=l=>e.category.category_en=l),type:"text",name:"category_en",placeholder:e.translate("placecontractor")},null,8,["modelValue","placeholder"])]),_:1})])])]),a("div",L,[a("button",{type:"reset",id:"kt_modal_add_category_cancel",class:"btn btn-light me-3",onClick:t[2]||(t[2]=(...l)=>e.cancelprocess&&e.cancelprocess(...l))},s(e.translate("cancel")),1),a("button",{"data-kt-indicator":e.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[e.loading?C("",!0):(y(),g("span",P,[w(s(e.translate("save"))+" ",1),a("span",Q,[n(r,{src:"/media/icons/duotune/arrows/arr064.svg"})])])),e.loading?(y(),g("span",W,[w(s(e.translate("pleasewait"))+" ",1),X])):C("",!0)],8,O)])]),_:1},8,["model","rules"])])])],512)}const ae=$(q,[["render",Y]]);export{ae as C};
